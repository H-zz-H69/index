<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Webhook Tools Online | HzzH-Tools</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 20px;
    }
    input {
      margin: 5px;
      padding: 8px;
      width: 300px;
    }
    button {
      margin: 10px;
      padding: 10px 20px;
      cursor: pointer;
    }
    .alert {
      margin-top: 20px;
      border-top: 1px solid #ccc;
      padding-top: 20px;
    }
  </style>
  <!-- jQuery included for the DELETE request -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
  <a href="index.html">Back</a>
  <h1>Webhook Spammer</h1>
  <input type="url" id="webhookurl" value="Webhook-URL" placeholder="Enter webhook URL">
  <input type="text" id="username" value="Username" placeholder="Enter username">
  <input type="url" id="avatar" value="https://i.pinimg.com/originals/7b/06/51/7b0651ae13f41c68cbd308a20d27caf8.jpg" placeholder="Avatar URL">
  <input type="text" id="message" value="Message" placeholder="Enter message">
  <br>
  <button id="spammer" onclick="toggle()">Unlimited Spam: OFF</button>
  
  <div class="alert">
    <h2>Refresh to stop Spamming!</h2>
    <h1>Webhook Deleter</h1>
    <input type="url" name="deleteurl" id="deleteurl" value="Webhook URL for deletion" placeholder="Enter webhook URL">
    <button onclick="deleteWebhook()">Click to delete</button>
  </div>
  
  <script>
    // Spam interval variable
    let spamInterval = null;
    
    // Function to send a message to the webhook
    function sending() {
      const webhookURL = document.getElementById('webhookurl').value;
      const username = document.getElementById('username').value;
      const avatar = document.getElementById('avatar').value;
      const message = document.getElementById('message').value;
      
      const request = new XMLHttpRequest();
      request.open("POST", webhookURL);
      request.setRequestHeader('Content-Type', 'application/json');
      
      const params = {
        username: username,
        avatar_url: avatar,
        content: message
      };
      
      request.send(JSON.stringify(params));
    }
    
    // Toggle spam on and off
    function toggle() {
      const spammerBtn = document.getElementById("spammer");
      if (!spamInterval) {
        // Start spamming every 1000ms (1 second); adjust as necessary
        spamInterval = setInterval(sending, 1000);
        spammerBtn.textContent = "Unlimited Spam: ON";
      } else {
        // Stop spamming
        clearInterval(spamInterval);
        spamInterval = null;
        spammerBtn.textContent = "Unlimited Spam: OFF";
      }
    }
    
    // Function to delete the webhook
    function deleteWebhook() {
      const deleteurl = document.getElementById("deleteurl").value;
      $.ajax({
        type: "DELETE",
        url: deleteurl,
        success: function() {
          alert("Webhook deleted successfully (if allowed by the server)!");
        },
        error: function() {
          alert("Failed to delete webhook. Check the URL and CORS settings.");
        }
      });
    }
  </script>
</body>
</html>
